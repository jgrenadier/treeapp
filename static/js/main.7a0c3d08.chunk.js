(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){e.exports=a(125)},120:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(47),o=a.n(c),l=(a(120),a(1));function u(e){var t=e.data,a=e.width,c=e.height,o=Object(n.useRef)(null),u=12,i=Object(n.useRef)(null);function s(e){e.each(function(){for(var e,t=l.e(this),a=+t.attr("data-width"),n=t.text().split(" ").reverse(),r=[],c=t.attr("x"),o=t.attr("y"),i=t.text("").append("tspan").attr("x",c).attr("y",o),s=0;n.length>1;){e=n.pop(),r.push(e),i.text(r.join(" ")),i.node().getComputedTextLength()>a&&1!==r.length&&(r.pop(),i.text(r.join(" ")),r=[e],i=g(e))}function g(e){return s+=1,t.append("tspan").attr("x",c).attr("y",o).attr("dy","".concat(s*u,"px")).text(e)}g(n.pop())})}return Object(n.useEffect)(function(){!function(){var e=l.e(o.current),n=l.e(i.current);e.selectAll("g").remove(),(n=l.e(i.current)).selectAll("g").remove(),e.attr("width",a).attr("height",c);var g=l.a(t).sum(function(e){return e.value}).sort(function(e,t){return t.value-e.value}),v=l.f().size([a,c]).padding(1)(g),d=e.selectAll("g").data(v.leaves()).join("g").attr("transform",function(e){return"translate(".concat(e.x0,",").concat(e.y0,")")}),f=l.c(l.d.map(function(e){return l.b(e,"#fff")(.3)}));d.append("rect").attr("width",function(e){return e.x1-e.x0}).attr("height",function(e){return e.y1-e.y0}).attr("fill",function(e){return f(e.data.category)}),d.append("text").text(function(e){return"".concat(e.data.name," ").concat(e.data.value)}).attr("data-width",function(e){return e.x1-e.x0}).attr("font-size","".concat(u,"px")).attr("x",3).attr("y",u).call(s),console.log(v.leaves()),n=l.e(i.current);var m=g.leaves().map(function(e){return e.data.category});m=m.filter(function(e,t,a){return a.indexOf(e)===t}),n.attr("width",a).attr("height",c/4);var h=n.selectAll("g").data(m).join("g");h.append("rect").attr("width",u).attr("height",u).attr("x",u).attr("y",function(e,t){return 2*u*t}).attr("fill",function(e){return f(e)}),h.append("text").attr("transform","translate(0, ".concat(u,")")).attr("x",3*u).attr("y",function(e,t){return 2*u*t}).style("font-size",u).text(function(e){return e}),r.a.createElement("div",null,r.a.createElement("svg",{ref:o}),r.a.createElement("svg",{ref:i}))}()},[t]),r.a.createElement("div",null,r.a.createElement("svg",{ref:o}),r.a.createElement("svg",{ref:i}))}var i={name:"States",children:[{name:"Texas",children:[{category:"Texas",name:"Silver Maple",value:20.4},{category:"Texas",name:"ChinaBerry",value:12.9},{category:"Texas",name:"Oak",value:6.9},{category:"Texas",name:"Sugar Maple",value:3.6},{category:"Texas",name:"Juniper",value:3.3},{category:"Texas",name:"Trash",value:2.5}]},{name:"Oregon",children:[{category:"Oregon",name:"Pine",value:23.4},{category:"Oregon",name:"Laurel",value:20.3},{category:"Oregon",name:"Mountain Laurel",value:17.5},{category:"Oregon",name:"Juniper",value:6.4},{category:"Oregon",name:"Family",value:7.4},{category:"Oregon",name:"Shoe",value:3.4},{category:"Oregon",name:"Coconut",value:12.9}]},{name:"Hawaii",children:[{category:"Hawaii",name:"Coconut",value:9.2},{category:"Hawaii",name:"Willow",value:8.1},{category:"Hawaii",name:"Redwood",value:5.2},{category:"Hawaii",name:"White Oak",value:3.3}]}]},s=a(10),g=a.n(s),v=a(11),d=a.n(v),f="name",m="children";function h(e,t,a,n,r){if(null===t)return!1;var c={category:t,name:a,value:1};if(0===e.length){e.push([]),e[0][f]=t,e[0][m]=[];var o={};return Object.assign(o,c),e[0][m].push(o),!0}for(var l=e.length,u=0;u<l;u++){var i=e[u][f];if(null!=i&&i===t){var s=e[u][m];if(null===s||0===s.length){e[u][m]=[];var g=[];return Object.assign(g,c),e[u][m].push(g),!0}for(var v=(s=e[u][m]).length,d=0;d<v;d++){if(null!=s[d]&&s[d].name===a)return s[d].value=s[d].value+1,!0}null===e[u][m]&&(e[u][m]=[]);var h={};return Object.assign(h,c),e[u][m].push(h),!0}}e.push([]);var p=e.length;e[p-1][f]=t,e[p-1][m]=[];var y={};return Object.assign(y,c),e[p-1][m].push(y),!0}var p=function(e,t){for(var a=[],n=0;n<e.length;n++){var c=e[n].stateabbr,o=e[n].speciesnamecommon;e[n].speciesnamescientific,e[n].treetype,h(a,c,o)}console.log("");var l={name:"States"};return l.children=a,l,g.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u,{data:l,height:400,width:600}))),l},y={header:!0,dynamicTyping:!0,skipEmptyLines:!0,transformHeader:function(e){return e.toLowerCase().replace(/\W/g,"_")}};var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("script",{src:"http://localhost:8097"}),r.a.createElement(d.a,{cssClass:"react-csv-input",label:"Select CSV with tree data",onFileLoaded:p,parserOptions:y}),r.a.createElement("p",null,"and then open the console"),r.a.createElement(u,{data:i,height:400,width:600}))},w=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,127)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,null))),w()}},[[112,3,2]]]);
//# sourceMappingURL=main.7a0c3d08.chunk.js.map